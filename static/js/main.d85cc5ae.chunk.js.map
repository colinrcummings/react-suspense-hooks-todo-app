{"version":3,"sources":["components/App.js","components/Root.js","index.js","utils/router.js","utils/date.js","api/utils.js","utils/localStorage.js","api/data.js","api/index.js","contexts/TodoContext.js","components/IsLoading.js"],"names":["TodoListPage","React","lazy","__webpack_require__","e","then","bind","TodoDetailsPage","TodoCreatePage","TodoUpdatePage","App","react_default","a","createElement","react","maxDuration","fallback","IsLoading","Container","es","path","makeTo","Root","TodoContext","components_App","ReactDOM","unstable_createRoot","document","getElementById","render","components_Root","d","__webpack_exports__","pathname","concat","process","getDate","formatDate","Date","getTime","value","toLocaleString","getTodosFromLocalStorage","todos","key","localStorage","getItem","JSON","parse","error","getLocalStorageValue","console","log","setTodosToLocalStorage","stringify","setItem","delay","ms","arguments","length","undefined","_ref","_ref$min","min","_ref$max","max","Math","floor","random","randomMs","Promise","resolve","setTimeout","initialTodos","id","v4","text","completed","createdAt","createdBy","updatedAt","updatedBy","api","list","_list","Object","asyncToGenerator","regenerator_default","mark","_callee","todosFromLocalStorage","wrap","_context","prev","next","abrupt","stop","apply","this","create","_create","_callee2","values","date","newTodo","existingTodos","_context2","objectSpread","toConsumableArray","_x","update","_update","_callee3","updatedTodos","_context3","map","todo","_x2","_x3","delete","_delete2","_callee4","idxToDelete","_context4","findIndex","filter","idx","_x4","initialState","isLoading","createContext","TodoProvider","children","_useReducer","useReducer","state","action","type","payload","_useReducer2","slicedToArray","store","dispatch","getTodos","_ref2","sent","t0","useEffect","createTodo","_ref4","_ref3","updateTodo","_ref6","_ref5","deleteTodo","_ref7","Provider","getTodoById","find","Consumer","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ref$message","message","className"],"mappings":"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","file":"static/js/main.d85cc5ae.chunk.js","sourcesContent":["import React, { Suspense } from 'react';\nimport { Router } from '@reach/router';\nimport { Container } from 'reactstrap';\nimport IsLoading from './IsLoading';\nimport { makeTo } from '../utils/router';\n\nconst TodoListPage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoListPage' */ './pages/TodoListPage')\n);\nconst TodoDetailsPage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoDetailsPage' */ './pages/TodoDetailsPage')\n);\nconst TodoCreatePage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoCreatePage' */ './pages/TodoCreatePage')\n);\nconst TodoUpdatePage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoUpdatePage' */ './pages/TodoUpdatePage')\n);\n\nfunction App() {\n  return (\n    <Suspense maxDuration={500} fallback={<IsLoading />}>\n      <Container>\n        <Router>\n          <TodoListPage path={makeTo('/')} />\n          <TodoDetailsPage path={makeTo('/details/:id')} />\n          <TodoCreatePage path={makeTo('/create')} />\n          <TodoUpdatePage path={makeTo('/update/:id')} />\n        </Router>\n      </Container>\n    </Suspense>\n  );\n}\n\nexport default App;\n","import React, { StrictMode } from 'react';\nimport { TodoProvider } from '../contexts/TodoContext';\nimport App from './App';\n// import UnsafeExample from './UnsafeExample';\n\nfunction Root() {\n  return (\n    <StrictMode>\n      <TodoProvider>\n        <App />\n      </TodoProvider>\n    </StrictMode>\n  );\n}\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Root from './components/Root';\nimport './index.css';\n\nReactDOM.unstable_createRoot(document.getElementById('root')).render(<Root />);\n","/* eslint-disable import/prefer-default-export */\nexport const makeTo = pathname => `${process.env.PUBLIC_URL}${pathname}`;\n","export const getDate = () => new Date().getTime();\n\nexport const formatDate = value => {\n  const dt = new Date(value);\n  return dt.toLocaleString();\n};\n","import { getLocalStorageValue, setLocalStorage } from '../utils/localStorage';\n\nconst LOCAL_STORAGE_KEY = 'TODOS';\n\nexport const getTodosFromLocalStorage = () => {\n  const todos = getLocalStorageValue(LOCAL_STORAGE_KEY);\n\n  if (todos) {\n    console.log('     - 📖 `todos` read from local storage');\n    return JSON.parse(todos);\n  }\n\n  return null;\n};\n\nexport const setTodosToLocalStorage = todos => {\n  console.log('     - 🖊️ `todos` written to local storage');\n  setLocalStorage(LOCAL_STORAGE_KEY, JSON.stringify(todos));\n};\n\nconst randomMs = ({ min = 100, max = 1600 } = {}) =>\n  Math.floor(Math.random() * (max - min + 1) + min);\n\nexport const delay = (ms = randomMs()) => {\n  console.log(`     - ⏲️ delay was ${ms} ms`);\n  return new Promise(resolve => setTimeout(resolve, ms));\n};\n","export const getLocalStorageValue = key => {\n  const value = localStorage.getItem(key);\n  if (!value) return null;\n  try {\n    return JSON.parse(value);\n  } catch (error) {\n    return null;\n  }\n};\n\nexport const setLocalStorage = (key, value) => {\n  localStorage.setItem(key, JSON.stringify(value));\n};\n","/* eslint-disable import/prefer-default-export */\nimport { v4 } from 'node-uuid';\n\nexport const initialTodos = [\n  {\n    id: v4(),\n    text: 'Try Suspense',\n    completed: true,\n    createdAt: 1541163993401,\n    createdBy: 'colin',\n    updatedAt: 1541163996938,\n    updatedBy: 'colin'\n  },\n  {\n    id: v4(),\n    text: 'Try Hooks',\n    completed: true,\n    createdAt: 1541163995178,\n    createdBy: 'colin',\n    updatedAt: 1541163996938,\n    updatedBy: 'colin'\n  },\n  {\n    id: v4(),\n    text: 'Profit',\n    completed: false,\n    createdAt: 1541163996071,\n    createdBy: 'colin',\n    updatedAt: 1541163996071,\n    updatedBy: 'colin'\n  }\n];\n","import { v4 } from 'node-uuid';\nimport {\n  getTodosFromLocalStorage,\n  setTodosToLocalStorage,\n  delay\n} from './utils';\nimport { initialTodos } from './data';\nimport { getDate } from '../utils/date';\n\nconst LOAD_INITIAL_TODOS_FROM_LOCAL_STORAGE = true;\nconst THROW_RANDOM_ERRORS = false;\n\nconst throwRandomError = () => {\n  const errors = ['😢', '👹', '💩', '💣', '💀'];\n  if (Math.random() > 0.5) {\n    const randomError = errors[Math.floor(Math.random() * errors.length)];\n    throw new Error(randomError);\n  }\n};\n\nconst api = {\n  todos: {\n    async list() {\n      console.log('📞 `api.todos.list` called:');\n      if (THROW_RANDOM_ERRORS) throwRandomError();\n      if (LOAD_INITIAL_TODOS_FROM_LOCAL_STORAGE) {\n        const todosFromLocalStorage = getTodosFromLocalStorage();\n        if (todosFromLocalStorage) {\n          return todosFromLocalStorage;\n        }\n      }\n      await delay();\n      setTodosToLocalStorage(initialTodos);\n      return initialTodos;\n    },\n    async create(values) {\n      console.log(`📞 api.todos.create called:`);\n      await delay(100);\n      if (THROW_RANDOM_ERRORS) throwRandomError();\n      const date = getDate();\n      const user = 'user'; // TODO\n      const newTodo = {\n        ...values,\n        id: v4(),\n        createdAt: date,\n        createdBy: user,\n        updatedAt: date,\n        updatedBy: user\n      };\n      const existingTodos = getTodosFromLocalStorage();\n      setTodosToLocalStorage([...existingTodos, newTodo]);\n    },\n    async update(id, values) {\n      console.log(`📞 api.todos.update called:`);\n      await delay(100);\n      if (THROW_RANDOM_ERRORS) throwRandomError();\n      const existingTodos = getTodosFromLocalStorage();\n      const updatedTodos = existingTodos.map(todo => {\n        if (todo.id !== id) {\n          return todo;\n        }\n        return {\n          ...todo,\n          ...values,\n          updatedAt: getDate(),\n          updatedBy: 'new user' // TODO\n        };\n      });\n      setTodosToLocalStorage(updatedTodos);\n    },\n    async delete(id) {\n      console.log(`📞 api.todos.delete called:`);\n      await delay(100);\n      if (THROW_RANDOM_ERRORS) throwRandomError();\n      const existingTodos = getTodosFromLocalStorage();\n      const idxToDelete = existingTodos.findIndex(todo => todo.id === id);\n      setTodosToLocalStorage(\n        existingTodos.filter((todo, idx) => idx !== idxToDelete)\n      );\n    }\n  }\n};\n\nexport default api;\n","import React, { useReducer, useEffect } from 'react';\n\nimport api from '../api';\n\nconst initialState = {\n  isLoading: true,\n  error: null,\n  todos: null\n};\n\nconst FETCH_TODO_LIST_SUCCESS = 'FETCH_TODO_LIST_SUCCESS';\nconst FETCH_TODO_LIST_ERROR = 'FETCH_TODO_LIST_ERROR';\n\nconst TodoContext = React.createContext(null);\n\nconst TodoProvider = ({ children }) => {\n  const [store, dispatch] = useReducer((state, action) => {\n    switch (action.type) {\n      case FETCH_TODO_LIST_SUCCESS:\n        return {\n          ...state,\n          isLoading: false,\n          error: null,\n          todos: action.payload.todos\n        };\n\n      case FETCH_TODO_LIST_ERROR:\n        return {\n          ...state,\n          isLoading: false,\n          error: action.payload.error,\n          todos: null\n        };\n\n      default:\n        return state;\n    }\n  }, initialState);\n\n  const getTodos = async () => {\n    try {\n      const todos = await api.todos.list();\n      dispatch({ type: FETCH_TODO_LIST_SUCCESS, payload: { todos } });\n    } catch (error) {\n      dispatch({ type: FETCH_TODO_LIST_ERROR, payload: { error } });\n    }\n  };\n\n  useEffect(() => {\n    getTodos();\n  }, []);\n\n  const getTodoById = id => {\n    const { todos } = store;\n\n    if (todos) {\n      return todos.find(todo => todo.id === id);\n    }\n\n    return null;\n  };\n\n  const createTodo = async ({ values }) => {\n    try {\n      await api.todos.create(values);\n    } catch (error) {\n      throw error;\n    }\n\n    await getTodos();\n  };\n\n  const updateTodo = async ({ id, values }) => {\n    try {\n      await api.todos.update(id, values);\n    } catch (error) {\n      throw error;\n    }\n\n    await getTodos();\n  };\n\n  const deleteTodo = async id => {\n    try {\n      await api.todos.delete(id);\n    } catch (error) {\n      throw error;\n    }\n\n    await getTodos();\n  };\n\n  return (\n    <TodoContext.Provider\n      value={{ ...store, getTodoById, createTodo, updateTodo, deleteTodo }}\n    >\n      {children}\n    </TodoContext.Provider>\n  );\n};\n\nconst TodoConsumer = TodoContext.Consumer;\n\nexport default TodoContext;\n\nexport { TodoProvider, TodoConsumer };\n","import React from 'react';\n\nconst IsLoading = ({ message = null }) => (\n  <p className=\"text-center text-muted\">{message || 'Loading...'}</p>\n);\n\nexport default IsLoading;\n"],"sourceRoot":""}