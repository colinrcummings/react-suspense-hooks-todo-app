{"version":3,"sources":["App.js","index.js","api/helpers.js","api/data.js","api/index.js","components/TodoContext.js","components/IsLoading.js"],"names":["TodoListPage","React","lazy","__webpack_require__","e","then","bind","TodoDetailsPage","App","react_default","a","createElement","react","maxDuration","fallback","IsLoading","TodoContext","reactstrap_es","es","path","concat","process","ReactDOM","createRoot","document","getElementById","render","src_App","delay","ms","arguments","length","undefined","_ref","_ref$min","min","_ref$max","max","Math","floor","random","randomMs","console","log","Promise","resolve","setTimeout","todos","id","v4","text","completed","createdAt","createdBy","updatedAt","updatedBy","api","list","_list","Object","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","stop","this","apply","initialState","isLoading","error","createContext","TodoProvider","children","_useReducer","useReducer","state","action","type","objectSpread","payload","_useReducer2","slicedToArray","store","dispatch","fetchTodoList","_ref2","sent","t0","useEffect","Provider","value","getTodoById","find","todo","Consumer","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ref$resourceName","resourceName","className"],"mappings":"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","file":"static/js/main.0a00c92b.chunk.js","sourcesContent":["import React, { Suspense } from 'react';\nimport { Router } from '@reach/router';\nimport { Container } from 'reactstrap';\n\nimport { TodoProvider } from './components/TodoContext';\nimport IsLoading from './components/IsLoading';\n\nconst TodoListPage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoListPage' */ './components/TodoListPage')\n);\nconst TodoDetailsPage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoDetailsPage' */ './components/TodoDetailsPage')\n);\n\nfunction App() {\n  return (\n    <Suspense maxDuration={500} fallback={<IsLoading />}>\n      <TodoProvider>\n        <Container>\n          <Router>\n            <TodoListPage path={`${process.env.PUBLIC_URL}/`} />\n            <TodoDetailsPage path={`${process.env.PUBLIC_URL}/details/:id`} />\n          </Router>\n        </Container>\n      </TodoProvider>\n    </Suspense>\n  );\n}\n\nexport default App;\n","import 'bootstrap/dist/css/bootstrap.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />);\n","export const randomMs = ({ min = 100, max = 1600 } = {}) =>\n  Math.floor(Math.random() * (max - min + 1) + min);\n\nexport const delay = (ms = randomMs()) => {\n  console.log(`     - delay was ${ms} ms`);\n\n  return new Promise(resolve => setTimeout(resolve, ms));\n};\n","/* eslint-disable import/prefer-default-export */\nimport { v4 } from 'node-uuid';\n\n/*\n  new Date().getTime()\n*/\n\nexport const todos = [\n  {\n    id: v4(),\n    text: 'Try Suspense',\n    completed: true,\n    createdAt: 1541163993401,\n    createdBy: 'colin',\n    updatedAt: 1541163996938,\n    updatedBy: 'colin'\n  },\n  {\n    id: v4(),\n    text: 'Try Hooks',\n    completed: true,\n    createdAt: 1541163995178,\n    createdBy: 'colin',\n    updatedAt: 1541163996938,\n    updatedBy: 'colin'\n  },\n  {\n    id: v4(),\n    text: 'Profit',\n    completed: false,\n    createdAt: 1541163996071,\n    createdBy: 'colin',\n    updatedAt: 1541163996071,\n    updatedBy: 'colin'\n  }\n];\n","import { delay } from './helpers';\nimport { todos } from './data';\n\n/*\n  if(Math.random() > 0.5) {\n    throw new Error('ðŸ˜¢');\n  }\n*/\n\nconst api = {\n  todos: {\n    async list() {\n      console.log('ðŸ“ž api.todos.list called:');\n\n      await delay();\n\n      return todos;\n    }\n    /*\n    async get(id) {\n      console.log(`ðŸ“ž api.todos.get called for id ${id}:`);\n\n      await delay();\n\n      return todos.find(todo => todo.id === id);\n    }\n    */\n  }\n};\n\nexport default api;\n","import React, { useReducer, useEffect } from 'react';\n\nimport api from '../api';\n\nconst initialState = {\n  isLoading: true,\n  error: null,\n  todos: null\n};\n\nconst FETCH_TODO_LIST_SUCCESS = 'FETCH_TODO_LIST_SUCCESS';\nconst FETCH_TODO_LIST_ERROR = 'FETCH_TODO_LIST_ERROR';\n\nconst TodoContext = React.createContext(null);\n\nconst TodoProvider = ({ children }) => {\n  const [store, dispatch] = useReducer((state, action) => {\n    switch (action.type) {\n      case FETCH_TODO_LIST_SUCCESS:\n        return {\n          ...state,\n          isLoading: false,\n          error: null,\n          todos: action.payload.todos\n        };\n\n      case FETCH_TODO_LIST_ERROR:\n        return {\n          ...state,\n          isLoading: false,\n          error: action.payload.error,\n          todos: null\n        };\n\n      default:\n        return state;\n    }\n  }, initialState);\n\n  const fetchTodoList = async () => {\n    try {\n      const todos = await api.todos.list();\n\n      dispatch({ type: FETCH_TODO_LIST_SUCCESS, payload: { todos } });\n    } catch (error) {\n      dispatch({ type: FETCH_TODO_LIST_ERROR, payload: { error } });\n    }\n  };\n\n  useEffect(() => {\n    fetchTodoList();\n  }, []);\n\n  const getTodoById = id => {\n    const { todos } = store;\n\n    if (todos) {\n      return todos.find(todo => todo.id === id);\n    }\n\n    return null;\n  };\n\n  return (\n    <TodoContext.Provider value={{ ...store, getTodoById }}>\n      {children}\n    </TodoContext.Provider>\n  );\n};\n\nconst TodoConsumer = TodoContext.Consumer;\n\nexport default TodoContext;\n\nexport { TodoProvider, TodoConsumer };\n","import React from 'react';\n\nconst IsLoading = ({ resourceName = null }) => (\n  <p className=\"text-center text-muted\">\n    {resourceName ? `Loading ${resourceName}...` : 'Loading...'}\n  </p>\n);\n\nexport default IsLoading;\n"],"sourceRoot":""}