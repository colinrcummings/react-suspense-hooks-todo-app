(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{107:function(e,t,n){e.exports=n(211)},117:function(e,t){},119:function(e,t){},153:function(e,t){},154:function(e,t){},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);n(108);var r=n(0),a=n.n(r),c=n(57),u=n.n(c),o=n(21),l=n(8),i=Object(l.c)(),s=Object(r.createContext)(null),d=function(e){var t=e.children,n=Object(r.useState)(i),c=Object(o.a)(n,2),u=c[0],d=c[1];return a.a.createElement(s.Provider,{value:{user:u,updateUser:function(e){d(e),Object(l.e)(e)}}},t)},f=s,p=n(62),m=n(61),b=n(212),O=n(28),v=function(e){var t=e.user,n=e.clearUser;return a.a.createElement("div",{className:"mt-auto"},a.a.createElement("div",{className:"footer"},a.a.createElement(b.a,{className:"text-center"},t&&a.a.createElement("span",{className:"text-muted"},"Logged in as"," ",a.a.createElement("button",{type:"button",className:"look-like-a-link",title:"Change user",onClick:n},t)))))},j=n(63),h=n(105),E=n.n(h),y=n(213),g=n(214),x=n(215),w=n(216),S=n(217),k=n(218),T=function(e){var t=e.updateUser,n=Object(r.useState)(!1),c=Object(o.a)(n,2),u=c[0],l=c[1],i=Object(r.useState)(""),s=Object(o.a)(i,2),d=s[0],f=s[1],p=Object(r.useRef)(null);return Object(r.useEffect)(function(){p.current&&p.current.focus()},[u]),a.a.createElement(E.a,{isOpen:!0,onAfterOpen:function(){return l(!0)},className:"modal-content",overlayClassName:"modal-dialog",portalClassName:"modal fade show",bodyOpenClassName:"modal-open",ariaHideApp:!1},a.a.createElement(y.a,null,"User"),a.a.createElement(g.a,{onSubmit:function(e){e.preventDefault(),t(d)}},a.a.createElement(x.a,null,a.a.createElement(w.a,{innerRef:p,"aria-label":"User",placeholder:"enter username",type:"text",value:d,onChange:function(e){return f(e.target.value)}})),a.a.createElement(S.a,null,a.a.createElement(k.a,{type:"submit",color:"primary"},"Submit"))))},C=a.a.lazy(function(){return n.e(2).then(n.bind(null,227))}),N=a.a.lazy(function(){return n.e(1).then(n.bind(null,228))}),R=a.a.lazy(function(){return n.e(0).then(n.bind(null,225))}),U=a.a.lazy(function(){return n.e(3).then(n.bind(null,226))}),_=function(){var e=Object(r.useContext)(f),t=e.user,n=e.updateUser;return a.a.createElement(r.Suspense,{fallback:a.a.createElement(j.a,null)},a.a.createElement(b.a,null,a.a.createElement(m.b,null,a.a.createElement(C,{path:Object(O.a)("/")}),a.a.createElement(N,{path:Object(O.a)("/details/:id")}),a.a.createElement(R,{path:Object(O.a)("/create")}),a.a.createElement(U,{path:Object(O.a)("/update/:id")}))),a.a.createElement(v,{user:t,clearUser:function(){return n(null)}}),!t&&a.a.createElement(T,{updateUser:n}))};var A=function(){return a.a.createElement(r.StrictMode,null,a.a.createElement(d,null,a.a.createElement(p.a,null,a.a.createElement(_,null))))};n(210);u.a.createRoot(document.getElementById("root")).render(a.a.createElement(A,null))},28:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return"".concat("/react-suspense-hooks-todo-app").concat(e)}},58:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=function(){return(new Date).getTime()},a=function(e){return new Date(e).toLocaleString()}},62:function(e,t,n){"use strict";var r=n(7),a=n.n(r),c=n(16),u=n(22),o=n(21),l=n(0),i=n.n(l),s=n(106),d=n(26),f=n(8),p=[{id:Object(d.v4)(),text:"Try Suspense",completed:!0,createdAt:1541163993401,createdBy:"colinrcummings",updatedAt:1541163996938,updatedBy:"colinrcummings"},{id:Object(d.v4)(),text:"Try Hooks",completed:!0,createdAt:1541163995178,createdBy:"colinrcummings",updatedAt:1541163996938,updatedBy:"colinrcummings"},{id:Object(d.v4)(),text:"Profit",completed:!1,createdAt:1541163996071,createdBy:"colinrcummings",updatedAt:1541163996071,updatedBy:"colinrcummings"}],m=n(58),b={todos:{list:function(){var e=Object(c.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\ud83d\udcde `api.todos.list` called:"),!(t=Object(f.b)())){e.next=6;break}return e.abrupt("return",t);case 6:return e.next=8,Object(f.a)();case 8:return Object(f.d)(p),e.abrupt("return",p);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(c.a)(a.a.mark(function e(t){var n,r,c,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\udcde api.todos.create called:"),e.next=3,Object(f.a)(100);case 3:0,n=Object(m.b)(),r=Object(f.c)(),c=Object(u.a)({},t,{id:Object(d.v4)(),createdAt:n,createdBy:r,updatedAt:n,updatedBy:r}),o=Object(f.b)(),Object(f.d)([].concat(Object(s.a)(o),[c]));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(c.a)(a.a.mark(function e(t,n){var r,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\udcde api.todos.update called:"),e.next=3,Object(f.a)(100);case 3:0,r=Object(f.b)(),c=r.map(function(e){return e.id!==t?e:Object(u.a)({},e,n,{updatedAt:Object(m.b)(),updatedBy:Object(f.c)()})}),Object(f.d)(c);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(c.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\udcde api.todos.delete called:"),e.next=3,Object(f.a)(100);case 3:0,n=Object(f.b)(),r=n.findIndex(function(e){return e.id===t}),Object(f.d)(n.filter(function(e,t){return t!==r}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}};n.d(t,"a",function(){return j});var O={isLoading:!0,error:null,todos:null},v=Object(l.createContext)(null),j=function(e){var t=e.children,n=Object(l.useReducer)(function(e,t){switch(t.type){case"FETCH_TODO_LIST_SUCCESS":return Object(u.a)({},e,{isLoading:!1,error:null,todos:t.payload.todos});case"FETCH_TODO_LIST_ERROR":return Object(u.a)({},e,{isLoading:!1,error:t.payload.error,todos:null});default:return e}},O),r=Object(o.a)(n,2),s=r[0],d=r[1],f=function(){var e=Object(c.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.todos.list();case 3:t=e.sent,d({type:"FETCH_TODO_LIST_SUCCESS",payload:{todos:t}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d({type:"FETCH_TODO_LIST_ERROR",payload:{error:e.t0}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)(function(){f()},[]);var p=function(){var e=Object(c.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.values,e.prev=1,e.next=4,b.todos.create(n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:return e.next=11,f();case 11:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.values,e.prev=1,e.next=4,b.todos.update(n,r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:return e.next=11,f();case 11:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.todos.delete(t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return e.next=10,f();case 10:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(v.Provider,{value:Object(u.a)({},s,{getTodoById:function(e){var t=s.todos;return t?t.find(function(t){return t.id===e}):null},createTodo:p,updateTodo:m,deleteTodo:j})},t)};t.b=v},63:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){var t=e.message,n=void 0===t?null:t;return a.a.createElement("p",{className:"text-center text-muted"},n||"Loading...")}},8:function(e,t,n){"use strict";var r=function(e){var t=localStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(n){return null}},a=function(e,t){localStorage.setItem(e,JSON.stringify(t))};n.d(t,"c",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return i});var c=function(){var e=r("USER");return e?(console.log("\ud83d\udc64 `user` read from local storage"),e):null},u=function(e){console.log("\ud83d\udc64 `user` written to local storage"),a("USER",e)},o=function(){var e=r("TODOS");return e?(console.log("     - \ud83d\udcd6 `todos` read from local storage"),JSON.parse(e)):null},l=function(e){console.log("     - \ud83d\udd8a\ufe0f `todos` written to local storage"),a("TODOS",JSON.stringify(e))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.min,n=void 0===t?100:t,r=e.max,a=void 0===r?1600:r;return Math.floor(Math.random()*(a-n+1)+n)}();return console.log("     - \u23f2\ufe0f delay was ".concat(e," ms")),new Promise(function(t){return setTimeout(t,e)})}}},[[107,5,6]]]);
//# sourceMappingURL=main.36113925.chunk.js.map