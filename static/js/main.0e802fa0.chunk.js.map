{"version":3,"sources":["contexts/UserContext.js","components/Footer.js","components/UserModal.js","components/App.js","components/Root.js","index.js","utils/router.js","utils/date.js","api/data.js","api/index.js","contexts/TodoContext.js","components/IsLoading.js","utils/localStorage.js","api/utils.js"],"names":["initialUser","getUserFromLocalStorage","UserContext","createContext","UserProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","user","setUser","react_default","a","createElement","Provider","value","updateUser","nextUser","setUserToLocalStorage","Footer","clearUser","className","Container","type","title","onClick","UserModal","hasOpened","setHasOpened","_useState3","_useState4","userInputRef","useRef","useEffect","current","focus","lib_default","isOpen","onAfterOpen","overlayClassName","portalClassName","bodyOpenClassName","ariaHideApp","ModalHeader","Form","onSubmit","event","preventDefault","ModalBody","Input","innerRef","aria-label","placeholder","onChange","target","ModalFooter","Button","color","TodoListPage","React","lazy","__webpack_require__","e","then","bind","TodoDetailsPage","TodoCreatePage","TodoUpdatePage","App","_useContext","useContext","react","maxDuration","fallback","IsLoading","es","path","makeTo","components_Footer","components_UserModal","Root","UserContext_UserProvider","TodoContext","components_App","ReactDOM","unstable_createRoot","document","getElementById","render","components_Root","d","__webpack_exports__","pathname","concat","process","getDate","formatDate","Date","getTime","toLocaleString","initialTodos","id","v4","text","completed","createdAt","createdBy","updatedAt","updatedBy","api","todos","list","_list","asyncToGenerator","regenerator_default","mark","_callee","todosFromLocalStorage","wrap","_context","prev","next","console","log","getTodosFromLocalStorage","abrupt","delay","setTodosToLocalStorage","stop","apply","this","arguments","create","_create","_callee2","values","date","newTodo","existingTodos","_context2","objectSpread","toConsumableArray","_x","update","_update","_callee3","updatedTodos","_context3","map","todo","_x2","_x3","delete","_delete2","_callee4","idxToDelete","_context4","findIndex","filter","idx","_x4","initialState","isLoading","error","TodoProvider","_useReducer","useReducer","state","action","payload","_useReducer2","store","dispatch","getTodos","_ref2","sent","t0","createTodo","_ref4","_ref3","updateTodo","_ref6","_ref5","deleteTodo","_ref7","getTodoById","find","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ref$message","message","getLocalStorageValue","key","localStorage","getItem","JSON","parse","setLocalStorage","setItem","stringify","utils_getUserFromLocalStorage","utils_setUserToLocalStorage","utils_getTodosFromLocalStorage","utils_setTodosToLocalStorage","ms","length","undefined","_ref$min","min","_ref$max","max","Math","floor","random","randomMs","Promise","resolve","setTimeout"],"mappings":"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","file":"static/js/main.0e802fa0.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react';\nimport { getUserFromLocalStorage, setUserToLocalStorage } from '../api/utils';\n\nconst initialUser = getUserFromLocalStorage();\n\nconst UserContext = createContext(null);\n\nexport const UserProvider = ({ children }) => {\n  const [user, setUser] = useState(initialUser);\n\n  const updateUser = nextUser => {\n    setUser(nextUser);\n    setUserToLocalStorage(nextUser);\n  };\n\n  return (\n    <UserContext.Provider value={{ user, updateUser }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContext;\n","import React from 'react';\nimport { Container } from 'reactstrap';\n\nconst Footer = ({ user, clearUser }) => (\n  <div className=\"mt-auto\">\n    <div className=\"footer\">\n      <Container className=\"text-center\">\n        {user && (\n          <span className=\"text-muted\">\n            Logged in as{' '}\n            <button\n              type=\"button\"\n              className=\"look-like-a-link\"\n              title=\"Change user\"\n              onClick={clearUser}\n            >\n              {user}\n            </button>\n          </span>\n        )}\n      </Container>\n    </div>\n  </div>\n);\n\nexport default Footer;\n","import React, { useState, useRef, useEffect } from 'react';\nimport ReactModal from 'react-modal';\nimport {\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Form,\n  Input,\n  Button\n} from 'reactstrap';\n\nconst UserModal = ({ updateUser }) => {\n  const [hasOpened, setHasOpened] = useState(false);\n  const [user, setUser] = useState('');\n  const userInputRef = useRef(null);\n\n  useEffect(\n    () => {\n      if (userInputRef.current) {\n        userInputRef.current.focus();\n      }\n    },\n    [hasOpened]\n  );\n\n  return (\n    <ReactModal\n      isOpen\n      onAfterOpen={() => setHasOpened(true)}\n      className=\"modal-content\"\n      overlayClassName=\"modal-dialog\"\n      portalClassName=\"modal fade show\"\n      bodyOpenClassName=\"modal-open\"\n      ariaHideApp={false}\n    >\n      <ModalHeader>User</ModalHeader>\n      <Form\n        onSubmit={event => {\n          event.preventDefault();\n          updateUser(user);\n        }}\n      >\n        <ModalBody>\n          <Input\n            innerRef={userInputRef}\n            aria-label=\"User\"\n            placeholder=\"enter username\"\n            type=\"text\"\n            value={user}\n            onChange={event => setUser(event.target.value)}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button type=\"submit\" color=\"primary\">\n            Submit\n          </Button>\n        </ModalFooter>\n      </Form>\n    </ReactModal>\n  );\n};\n\nexport default UserModal;\n","import React, { Suspense, useContext } from 'react';\nimport { Router } from '@reach/router';\nimport { Container } from 'reactstrap';\nimport UserContext from '../contexts/UserContext';\nimport IsLoading from './IsLoading';\nimport Footer from './Footer';\nimport UserModal from './UserModal';\nimport { makeTo } from '../utils/router';\n\nconst TodoListPage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoListPage' */ './pages/TodoListPage')\n);\nconst TodoDetailsPage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoDetailsPage' */ './pages/TodoDetailsPage')\n);\nconst TodoCreatePage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoCreatePage' */ './pages/TodoCreatePage')\n);\nconst TodoUpdatePage = React.lazy(() =>\n  import(/* webpackChunkName: 'TodoUpdatePage' */ './pages/TodoUpdatePage')\n);\n\nconst App = () => {\n  const { user, updateUser } = useContext(UserContext);\n\n  return (\n    <Suspense maxDuration={500} fallback={<IsLoading />}>\n      <Container>\n        <Router>\n          <TodoListPage path={makeTo('/')} />\n          <TodoDetailsPage path={makeTo('/details/:id')} />\n          <TodoCreatePage path={makeTo('/create')} />\n          <TodoUpdatePage path={makeTo('/update/:id')} />\n        </Router>\n      </Container>\n      <Footer user={user} clearUser={() => updateUser(null)} />\n      {!user && <UserModal updateUser={updateUser} />}\n    </Suspense>\n  );\n};\n\nexport default App;\n","import React, { StrictMode } from 'react';\nimport { UserProvider } from '../contexts/UserContext';\nimport { TodoProvider } from '../contexts/TodoContext';\nimport App from './App';\n// import UnsafeExample from './UnsafeExample';\n\nfunction Root() {\n  return (\n    <StrictMode>\n      <UserProvider>\n        <TodoProvider>\n          <App />\n        </TodoProvider>\n      </UserProvider>\n    </StrictMode>\n  );\n}\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Root from './components/Root';\nimport './index.css';\n\nReactDOM.unstable_createRoot(document.getElementById('root')).render(<Root />);\n","/* eslint-disable import/prefer-default-export */\nexport const makeTo = pathname => `${process.env.PUBLIC_URL}${pathname}`;\n","export const getDate = () => new Date().getTime();\n\nexport const formatDate = value => {\n  const dt = new Date(value);\n  return dt.toLocaleString();\n};\n","/* eslint-disable import/prefer-default-export */\nimport { v4 } from 'node-uuid';\n\nexport const initialTodos = [\n  {\n    id: v4(),\n    text: 'Try Suspense',\n    completed: true,\n    createdAt: 1541163993401,\n    createdBy: 'colinrcummings',\n    updatedAt: 1541163996938,\n    updatedBy: 'colinrcummings'\n  },\n  {\n    id: v4(),\n    text: 'Try Hooks',\n    completed: true,\n    createdAt: 1541163995178,\n    createdBy: 'colinrcummings',\n    updatedAt: 1541163996938,\n    updatedBy: 'colinrcummings'\n  },\n  {\n    id: v4(),\n    text: 'Profit',\n    completed: false,\n    createdAt: 1541163996071,\n    createdBy: 'colinrcummings',\n    updatedAt: 1541163996071,\n    updatedBy: 'colinrcummings'\n  }\n];\n","import { v4 } from 'node-uuid';\nimport {\n  getUserFromLocalStorage,\n  getTodosFromLocalStorage,\n  setTodosToLocalStorage,\n  delay\n} from './utils';\nimport { initialTodos } from './data';\nimport { getDate } from '../utils/date';\n\nconst LOAD_INITIAL_TODOS_FROM_LOCAL_STORAGE = true;\nconst THROW_RANDOM_ERRORS = false;\n\nconst throwRandomError = () => {\n  const errors = ['😢', '👹', '💩', '💣', '💀'];\n  if (Math.random() > 0.5) {\n    const randomError = errors[Math.floor(Math.random() * errors.length)];\n    throw new Error(randomError);\n  }\n};\n\nconst api = {\n  todos: {\n    async list() {\n      console.log('📞 `api.todos.list` called:');\n      if (THROW_RANDOM_ERRORS) throwRandomError();\n      if (LOAD_INITIAL_TODOS_FROM_LOCAL_STORAGE) {\n        const todosFromLocalStorage = getTodosFromLocalStorage();\n        if (todosFromLocalStorage) {\n          return todosFromLocalStorage;\n        }\n      }\n      await delay();\n      setTodosToLocalStorage(initialTodos);\n      return initialTodos;\n    },\n    async create(values) {\n      console.log(`📞 api.todos.create called:`);\n      await delay(100);\n      if (THROW_RANDOM_ERRORS) throwRandomError();\n      const date = getDate();\n      const user = getUserFromLocalStorage();\n      const newTodo = {\n        ...values,\n        id: v4(),\n        createdAt: date,\n        createdBy: user,\n        updatedAt: date,\n        updatedBy: user\n      };\n      const existingTodos = getTodosFromLocalStorage();\n      setTodosToLocalStorage([...existingTodos, newTodo]);\n    },\n    async update(id, values) {\n      console.log(`📞 api.todos.update called:`);\n      await delay(100);\n      if (THROW_RANDOM_ERRORS) throwRandomError();\n      const existingTodos = getTodosFromLocalStorage();\n      const updatedTodos = existingTodos.map(todo => {\n        if (todo.id !== id) {\n          return todo;\n        }\n        return {\n          ...todo,\n          ...values,\n          updatedAt: getDate(),\n          updatedBy: getUserFromLocalStorage()\n        };\n      });\n      setTodosToLocalStorage(updatedTodos);\n    },\n    async delete(id) {\n      console.log(`📞 api.todos.delete called:`);\n      await delay(100);\n      if (THROW_RANDOM_ERRORS) throwRandomError();\n      const existingTodos = getTodosFromLocalStorage();\n      const idxToDelete = existingTodos.findIndex(todo => todo.id === id);\n      setTodosToLocalStorage(\n        existingTodos.filter((todo, idx) => idx !== idxToDelete)\n      );\n    }\n  }\n};\n\nexport default api;\n","import React, { createContext, useReducer, useEffect } from 'react';\n\nimport api from '../api';\n\nconst initialState = {\n  isLoading: true,\n  error: null,\n  todos: null\n};\n\nconst FETCH_TODO_LIST_SUCCESS = 'FETCH_TODO_LIST_SUCCESS';\nconst FETCH_TODO_LIST_ERROR = 'FETCH_TODO_LIST_ERROR';\n\nconst TodoContext = createContext(null);\n\nexport const TodoProvider = ({ children }) => {\n  const [store, dispatch] = useReducer((state, action) => {\n    switch (action.type) {\n      case FETCH_TODO_LIST_SUCCESS:\n        return {\n          ...state,\n          isLoading: false,\n          error: null,\n          todos: action.payload.todos\n        };\n\n      case FETCH_TODO_LIST_ERROR:\n        return {\n          ...state,\n          isLoading: false,\n          error: action.payload.error,\n          todos: null\n        };\n\n      default:\n        return state;\n    }\n  }, initialState);\n\n  const getTodos = async () => {\n    try {\n      const todos = await api.todos.list();\n      dispatch({ type: FETCH_TODO_LIST_SUCCESS, payload: { todos } });\n    } catch (error) {\n      dispatch({ type: FETCH_TODO_LIST_ERROR, payload: { error } });\n    }\n  };\n\n  useEffect(() => {\n    getTodos();\n  }, []);\n\n  const getTodoById = id => {\n    const { todos } = store;\n\n    if (todos) {\n      return todos.find(todo => todo.id === id);\n    }\n\n    return null;\n  };\n\n  const createTodo = async ({ values }) => {\n    try {\n      await api.todos.create(values);\n    } catch (error) {\n      throw error;\n    }\n\n    await getTodos();\n  };\n\n  const updateTodo = async ({ id, values }) => {\n    try {\n      await api.todos.update(id, values);\n    } catch (error) {\n      throw error;\n    }\n\n    await getTodos();\n  };\n\n  const deleteTodo = async id => {\n    try {\n      await api.todos.delete(id);\n    } catch (error) {\n      throw error;\n    }\n\n    await getTodos();\n  };\n\n  return (\n    <TodoContext.Provider\n      value={{ ...store, getTodoById, createTodo, updateTodo, deleteTodo }}\n    >\n      {children}\n    </TodoContext.Provider>\n  );\n};\n\nexport default TodoContext;\n","import React from 'react';\n\nconst IsLoading = ({ message = null }) => (\n  <p className=\"text-center text-muted\">{message || 'Loading...'}</p>\n);\n\nexport default IsLoading;\n","export const getLocalStorageValue = key => {\n  const value = localStorage.getItem(key);\n  if (!value) return null;\n  try {\n    return JSON.parse(value);\n  } catch (error) {\n    return null;\n  }\n};\n\nexport const setLocalStorage = (key, value) => {\n  localStorage.setItem(key, JSON.stringify(value));\n};\n","import { getLocalStorageValue, setLocalStorage } from '../utils/localStorage';\n\nconst USER_LOCAL_STORAGE_KEY = 'USER';\nconst TODOS_LOCAL_STORAGE_KEY = 'TODOS';\n\nexport const getUserFromLocalStorage = () => {\n  const user = getLocalStorageValue(USER_LOCAL_STORAGE_KEY);\n\n  if (user) {\n    console.log('👤 `user` read from local storage');\n    return user;\n  }\n\n  return null;\n};\n\nexport const setUserToLocalStorage = user => {\n  console.log('👤 `user` written to local storage');\n  setLocalStorage(USER_LOCAL_STORAGE_KEY, user);\n};\n\nexport const getTodosFromLocalStorage = () => {\n  const todos = getLocalStorageValue(TODOS_LOCAL_STORAGE_KEY);\n\n  if (todos) {\n    console.log('     - 📖 `todos` read from local storage');\n    return JSON.parse(todos);\n  }\n\n  return null;\n};\n\nexport const setTodosToLocalStorage = todos => {\n  console.log('     - 🖊️ `todos` written to local storage');\n  setLocalStorage(TODOS_LOCAL_STORAGE_KEY, JSON.stringify(todos));\n};\n\nconst randomMs = ({ min = 100, max = 1600 } = {}) =>\n  Math.floor(Math.random() * (max - min + 1) + min);\n\nexport const delay = (ms = randomMs()) => {\n  console.log(`     - ⏲️ delay was ${ms} ms`);\n  return new Promise(resolve => setTimeout(resolve, ms));\n};\n"],"sourceRoot":""}