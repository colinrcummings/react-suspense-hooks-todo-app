(this["webpackJsonpreact-suspense-hooks-todo-app"]=this["webpackJsonpreact-suspense-hooks-todo-app"]||[]).push([[4],{107:function(e,t,n){e.exports=n(211)},117:function(e,t){},119:function(e,t){},153:function(e,t){},154:function(e,t){},19:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u}));var r=!0,a=100,c=1600,o=void 0,u="NEVER"},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);n(108);var r=n(0),a=n.n(r),c=n(57),o=n.n(c),u=n(62),l=n(21),s=n(8),i=Object(s.d)(),d=Object(r.createContext)(null),f=function(e){var t=e.children,n=Object(r.useState)(i),c=Object(l.a)(n,2),o=c[0],u=c[1];return a.a.createElement(d.Provider,{value:{user:o,updateUser:function(e){u(e),Object(s.f)(e)}}},t)},p=d,m=n(61),b=n(212),O=n(28),v=function(e){var t=e.user,n=e.clearUser;return a.a.createElement("div",{className:"mt-auto"},a.a.createElement("div",{className:"footer"},a.a.createElement(b.a,{className:"text-center"},t&&a.a.createElement("span",{className:"text-muted"},"Logged in as"," ",a.a.createElement("button",{type:"button",className:"look-like-a-link",title:"Change user",onClick:n},t)))))},E=n(63),h=n(105),j=n.n(h),g=n(213),y=n(214),w=n(215),x=n(216),S=n(217),T=n(218),C=function(e){var t=e.updateUser,n=Object(r.useState)(!1),c=Object(l.a)(n,2),o=c[0],u=c[1],s=Object(r.useState)(""),i=Object(l.a)(s,2),d=i[0],f=i[1],p=Object(r.useRef)(null);return Object(r.useEffect)((function(){p.current&&p.current.focus()}),[o]),a.a.createElement(j.a,{isOpen:!0,onAfterOpen:function(){return u(!0)},className:"modal-content",overlayClassName:"modal-dialog",portalClassName:"modal fade show",bodyOpenClassName:"modal-open",ariaHideApp:!1},a.a.createElement(g.a,null,"User"),a.a.createElement(y.a,{onSubmit:function(e){e.preventDefault(),t(d)}},a.a.createElement(w.a,null,a.a.createElement(x.a,{innerRef:p,"aria-label":"User",placeholder:"enter username",type:"text",value:d,onChange:function(e){return f(e.target.value)}})),a.a.createElement(S.a,null,a.a.createElement(T.a,{type:"submit",color:"primary"},"Submit"))))},N=a.a.lazy((function(){return n.e(2).then(n.bind(null,227))})),k=a.a.lazy((function(){return n.e(1).then(n.bind(null,228))})),R=a.a.lazy((function(){return n.e(0).then(n.bind(null,225))})),A=a.a.lazy((function(){return n.e(3).then(n.bind(null,226))})),U=function(){var e=Object(r.useContext)(p),t=e.user,n=e.updateUser;return a.a.createElement(r.Suspense,{fallback:a.a.createElement(E.a,null)},a.a.createElement(b.a,null,a.a.createElement(m.b,null,a.a.createElement(N,{path:Object(O.a)("/")}),a.a.createElement(k,{path:Object(O.a)("/details/:id")}),a.a.createElement(R,{path:Object(O.a)("/create")}),a.a.createElement(A,{path:Object(O.a)("/update/:id")}))),a.a.createElement(v,{user:t,clearUser:function(){return n(null)}}),!t&&a.a.createElement(C,{updateUser:n}))},_=function(){return a.a.createElement(r.StrictMode,null,a.a.createElement(f,null,a.a.createElement(u.a,null,a.a.createElement(U,null))))};n(210);o.a.createRoot(document.getElementById("root")).render(a.a.createElement(_,null))},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return"".concat("/react-suspense-hooks-todo-app").concat(e)}},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(){return(new Date).getTime()},a=function(e){return new Date(e).toLocaleString()}},62:function(e,t,n){"use strict";var r=n(5),a=n.n(r),c=n(22),o=n(21),u=n(0),l=n.n(u),s=n(106),i=n(26),d=n(58),f=n(19),p=n(8),m=[{id:Object(i.v4)(),text:"Try Suspense",completed:!0,createdAt:1541163993401,createdBy:"colinrcummings",updatedAt:1541163996938,updatedBy:"colinrcummings"},{id:Object(i.v4)(),text:"Try Hooks",completed:!0,createdAt:1541163995178,createdBy:"colinrcummings",updatedAt:1541163996938,updatedBy:"colinrcummings"},{id:Object(i.v4)(),text:"Profit",completed:!1,createdAt:1541163996071,createdBy:"colinrcummings",updatedAt:1541163996071,updatedBy:"colinrcummings"}],b=function(){if(f.e){var e=Object(p.c)();return e||(Object(p.e)(m),m)}return m}(),O=function(){return b},v=function(e){b=e,f.e&&Object(p.e)(e)},E={todos:{list:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\udcde `api.todos.list` called:"),e.next=3,a.a.awrap(Object(p.a)());case 3:return Object(p.b)(),e.abrupt("return",O());case 5:case"end":return e.stop()}}))},create:function(e){var t,n,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("\ud83d\udcde api.todos.create called:"),o.next=3,a.a.awrap(Object(p.a)());case 3:Object(p.b)(),t=Object(d.b)(),n=Object(p.d)(),r=Object(c.a)({},e,{id:Object(i.v4)(),createdAt:t,createdBy:n,updatedAt:t,updatedBy:n}),v([].concat(Object(s.a)(O()),[r]));case 8:case"end":return o.stop()}}))},update:function(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("\ud83d\udcde api.todos.update called:"),n.next=3,a.a.awrap(Object(p.a)());case 3:Object(p.b)(),v(O().map((function(n){return n.id!==e?n:Object(c.a)({},n,{},t,{updatedAt:Object(d.b)(),updatedBy:Object(p.d)()})})));case 5:case"end":return n.stop()}}))},delete:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("\ud83d\udcde api.todos.delete called:"),n.next=3,a.a.awrap(Object(p.a)());case 3:Object(p.b)(),t=O().findIndex((function(t){return t.id===e})),v(O().filter((function(e,n){return n!==t})));case 6:case"end":return n.stop()}}))}}};n.d(t,"a",(function(){return g}));var h={isLoading:!0,error:null,todos:null},j=Object(u.createContext)(null),g=function(e){var t=e.children,n=Object(u.useReducer)((function(e,t){switch(t.type){case"FETCH_TODO_LIST_SUCCESS":return Object(c.a)({},e,{isLoading:!1,error:null,todos:t.payload.todos});case"FETCH_TODO_LIST_ERROR":return Object(c.a)({},e,{isLoading:!1,error:t.payload.error,todos:null});default:return e}}),h),r=Object(o.a)(n,2),s=r[0],i=r[1],d=function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(E.todos.list());case 3:e=t.sent,i({type:"FETCH_TODO_LIST_SUCCESS",payload:{todos:e}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i({type:"FETCH_TODO_LIST_ERROR",payload:{error:t.t0}});case 10:case"end":return t.stop()}}),null,null,[[0,7]])};Object(u.useEffect)((function(){d()}),[]);return l.a.createElement(j.Provider,{value:Object(c.a)({},s,{getTodoById:function(e){var t=s.todos;return t?t.find((function(t){return t.id===e})):null},createTodo:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.values,n.prev=1,n.next=4,a.a.awrap(E.todos.create(t));case 4:n.next=9;break;case 6:throw n.prev=6,n.t0=n.catch(1),n.t0;case 9:return n.next=11,a.a.awrap(d());case 11:case"end":return n.stop()}}),null,null,[[1,6]])},updateTodo:function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,n=e.values,r.prev=1,r.next=4,a.a.awrap(E.todos.update(t,n));case 4:r.next=9;break;case 6:throw r.prev=6,r.t0=r.catch(1),r.t0;case 9:return r.next=11,a.a.awrap(d());case 11:case"end":return r.stop()}}),null,null,[[1,6]])},deleteTodo:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(E.todos.delete(e));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),t.t0;case 8:return t.next=10,a.a.awrap(d());case 10:case"end":return t.stop()}}),null,null,[[0,5]])}})},t)};t.b=j},63:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){var t=e.message,n=void 0===t?null:t;return a.a.createElement("p",{className:"text-center text-muted"},n||"Loading...")}},8:function(e,t,n){"use strict";var r=n(19),a=function(e){var t=localStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(n){return null}},c=function(e,t){localStorage.setItem(e,JSON.stringify(t))};n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var o=function(){var e=a("USER");return e?(console.log("\ud83d\udc64 `user` read from local storage"),e):null},u=function(e){console.log("\ud83d\udc64 `user` written to local storage"),c("USER",e)},l=function(){var e=a("TODOS");return e?(console.log("\ud83d\uddd2 `todos` read from local storage"),JSON.parse(e)):null},s=function(e){console.log("\ud83d\uddd2 `todos` written to local storage"),c("TODOS",JSON.stringify(e))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.min,n=void 0===t?r.b:t,a=e.max,c=void 0===a?r.c:a;return Math.floor(Math.random()*(c-n+1)+n)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a||i();return console.log("     - \u23f2\ufe0f delay was ".concat(e," ms")),new Promise((function(t){return setTimeout(t,e)}))},f=function(){var e=["\ud83d\ude22","\ud83d\udc79","\ud83d\udca9","\ud83d\udca3","\ud83d\udc80"];return e[Math.floor(Math.random()*e.length)]},p=function(){switch(r.d){case"ALWAYS":throw new Error(f());case"RANDOM":return function(){if(Math.random()>.5)throw new Error(f())}();case"NEVER":default:return}}}},[[107,5,6]]]);
//# sourceMappingURL=main.750a1497.chunk.js.map