{"version":3,"sources":["components/TodoDetails.js","components/TodoDetailsPage.js","hooks/useDocumentTitle.js","components/TodoCompletedBadge.js","api/helpers.js","api/data.js","api/index.js"],"names":["TodoResource","createResource","api","todos","get","formatDate","value","Date","toLocaleString","TodoDetails","_ref","id","todo","read","useDocumentTitle","concat","text","react_default","a","createElement","reactstrap_es","className","xs","es","to","completed","createdAt","createdBy","updatedAt","updatedBy","TodoCompletedBadge","bordered","size","TodoDetailsPage","react","maxDuration","fallback","Loading","resourceName","components_TodoDetails","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","title","useEffect","document","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","color","delay","ms","arguments","length","undefined","_ref$min","min","_ref$max","max","Math","floor","random","randomMs","console","log","Promise","resolve","setTimeout","v4","list","_list","Object","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","map","objectWithoutProperties","stop","this","apply","_get","_callee2","_context2","find","_x"],"mappings":"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","file":"static/js/TodoDetailsPage.bd50523c.chunk.js","sourcesContent":["import React from 'react';\r\nimport { unstable_createResource as createResource } from 'react-cache';\r\nimport { Link } from '@reach/router';\r\nimport { Row, Col, Table } from 'reactstrap';\r\n\r\nimport api from '../api';\r\nimport useDocumentTitle from '../hooks/useDocumentTitle';\r\nimport TodoCompletedBadge from './TodoCompletedBadge';\r\n\r\nconst TodoResource = createResource(api.todos.get);\r\n\r\nconst formatDate = value => {\r\n  const dt = new Date(value);\r\n\r\n  return dt.toLocaleString();\r\n};\r\n\r\nconst TodoDetails = ({ id }) => {\r\n  const todo = TodoResource.read(id);\r\n\r\n  useDocumentTitle(todo ? `Details for \"${todo.text}\" todo` : 'Todo Not Found');\r\n\r\n  if (!todo) {\r\n    return (\r\n      <Row className=\"text-center\">\r\n        <Col xs={12}>\r\n          <h2>Todo Not Found</h2>\r\n          <hr />\r\n        </Col>\r\n        <Col xs={12}>\r\n          <p className=\" text-danger\">\r\n            A todo does not exist with id &#34;\r\n            {id}\r\n            &#34;.\r\n          </p>\r\n        </Col>\r\n        <Col xs={12}>\r\n          <Link to=\"/\">Todos</Link>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  const { text, completed, createdAt, createdBy, updatedAt, updatedBy } = todo;\r\n\r\n  return (\r\n    <Row className=\"text-center\">\r\n      <Col xs={12}>\r\n        <h2>\r\n          {text} <TodoCompletedBadge completed={completed} />\r\n        </h2>\r\n        <hr />\r\n      </Col>\r\n      <Col xs={12}>\r\n        <Table bordered size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th>Action</th>\r\n              <th>Date</th>\r\n              <th>User</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>Create</td>\r\n              <td>{formatDate(createdAt)}</td>\r\n              <td>{createdBy}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Update</td>\r\n              <td>{formatDate(updatedAt)}</td>\r\n              <td>{updatedBy}</td>\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n      </Col>\r\n      <Col xs={12}>\r\n        <Link to=\"/\">Todos</Link>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default TodoDetails;\r\n","import React, { Suspense } from 'react';\r\n\r\nimport Loading from './Loading';\r\nimport TodoDetails from './TodoDetails';\r\n\r\nconst TodoDetailsPage = ({ id }) => (\r\n  <Suspense\r\n    maxDuration={1000}\r\n    fallback={<Loading resourceName=\"todo details\" />}\r\n  >\r\n    <TodoDetails id={id} />\r\n  </Suspense>\r\n);\r\n\r\nexport default TodoDetailsPage;\r\n","import { useEffect } from 'react';\r\n\r\nconst useDocumentTitle = title => {\r\n  useEffect(\r\n    () => {\r\n      document.title = title;\r\n    },\r\n    [title]\r\n  );\r\n};\r\n\r\nexport default useDocumentTitle;\r\n","import React from 'react';\r\nimport { Badge } from 'reactstrap';\r\n\r\nconst TodoCompletedBadge = ({ completed }) => (\r\n  <Badge color={completed ? 'success' : 'danger'}>\r\n    {completed ? 'Completed' : 'Not Completed'}\r\n  </Badge>\r\n);\r\n\r\nexport default TodoCompletedBadge;\r\n","export const randomMs = ({ min = 100, max = 1600 } = {}) =>\r\n  Math.floor(Math.random() * (max - min + 1) + min);\r\n\r\nexport const delay = (ms = randomMs()) => {\r\n  console.log(`     - delay was ${ms} ms`);\r\n\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n};\r\n","/* eslint-disable import/prefer-default-export */\r\nimport { v4 } from 'node-uuid';\r\n\r\n/*\r\n  new Date().getTime()\r\n*/\r\n\r\nexport const todos = [\r\n  {\r\n    id: v4(),\r\n    text: 'Try Suspense',\r\n    completed: true,\r\n    createdAt: 1541163993401,\r\n    createdBy: 'colin',\r\n    updatedAt: 1541163996938,\r\n    updatedBy: 'colin'\r\n  },\r\n  {\r\n    id: v4(),\r\n    text: 'Try Hooks',\r\n    completed: true,\r\n    createdAt: 1541163995178,\r\n    createdBy: 'colin',\r\n    updatedAt: 1541163996938,\r\n    updatedBy: 'colin'\r\n  },\r\n  {\r\n    id: v4(),\r\n    text: 'Profit',\r\n    completed: false,\r\n    createdAt: 1541163996071,\r\n    createdBy: 'colin',\r\n    updatedAt: 1541163996071,\r\n    updatedBy: 'colin'\r\n  }\r\n];\r\n","import { delay } from './helpers';\r\nimport { todos } from './data';\r\n\r\n/*\r\n  if(Math.random() > 0.5) {\r\n    throw new Error('ðŸ˜¢);\r\n  }\r\n*/\r\n\r\nconst api = {\r\n  todos: {\r\n    async list() {\r\n      console.log('ðŸ“ž api.todos.list called:');\r\n\r\n      await delay();\r\n\r\n      return todos.map(todo => {\r\n        const { createdAt, createdBy, updatedAt, updatedBy, ...rest } = todo;\r\n\r\n        return rest;\r\n      });\r\n    },\r\n    async get(id) {\r\n      console.log(`ðŸ“ž api.todos.get called for id ${id}:`);\r\n\r\n      await delay();\r\n\r\n      return todos.find(todo => todo.id === id);\r\n    }\r\n  }\r\n};\r\n\r\nexport default api;\r\n"],"sourceRoot":""}